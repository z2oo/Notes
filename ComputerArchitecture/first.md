# 计算机系统的层次结构
计算机系统是由硬件和软件组成的  

从使用语言的角度出发，可把计算机系统按功能划分为多级层次结构，每一层以一种不同的语言为特征  

- 第6级：应用语言机器(虚拟机)　　　高
- 第5级：高级语言机器(虚拟机)　　　｜
- 第4级：汇编语言机器(虚拟机)　　　｜
- 第3级：操作系统机器(虚拟机)　　　｜
- 第2级：传统机器语言机器(物理机)　｜
- 第1级：微程序机器(物理机)　　　　低
 
第1级：用微指令编写的微程序直接由**固件/硬件**来**解释**实现  
1级上可以有多个能够在它上面运行的**解释程序**，每个解释程序定义了一种指令`系统(仿真)，即在一台电脑上可实现多种指令系统  

第2级：即传统的**机器指令系统**，程序员用该系统编写的程序由第1级上的微程序进行**解释执行**  
        
第3级———传统机器级指令  
　　|———操作系统级指令----用于实现对操作系统功能的调用(打开/关闭文件、读/写文件等)  
这一级编写的程序是由第3级(自身)和第2级来共同执行的，其中，只有**操作系统级指令**是由**操作系统**进行**解释执行**的  

第4级：用汇编语言写的程序首先**翻译**成**第3级**和**第2级**语言，然后在用**相应的机器**执行。完成这个翻译的程序称为**汇编程序**  

第5级：用高级语言编写的程序一般由**编译器**翻译到**第4级**或**第3级**机器上的语言，个别的高级语言也用解释的方法实现(BASIC)  

第6级：这一级是为使计算机满足**某种用途**而设计的，因此这一级的语言就是各种面向具体应用问题的**应用语言**。一般由应用**程序包**翻译成第5级上的语言  

各机器级的实现主要靠**翻译**或**解释**，或两者结合  

翻译(translation)：即编译，先用转换程序把**高一级**机器上的程序**转换**为低一级机器上等效的程序，然后再在该**低一级**机器上运行，实现程序的功能  

解释(interpretation)：对于高一级机器上的程序的**每一条**语句或指令，都转去执行低一级机器上的等效代码。执行完毕后，再去高一级机器取下一条语句或指令，再进行**解释执行**，如此重复，直至解释执行整个程序  
  
一般，解释执行比编译后在执行所**花的时间多**，但占用的**存储空间较少**  

下面三级一般是用**解释实现**的，而上面三级一般用**翻译**的方法实现的  

最下面2级机器使用**硬件/固件**实现的，称为**物理机(Physical Machine)**  
上面4级一般由**软件**实现的，用**软件**实现的机器称为**虚拟机(Virtual Machine)**  
不过，虚拟机不一定完全由软件实现的，有些操作可以由**硬/固**实现  
  
> 固件(firmware)：是指具有软件功能的硬件。例如，把软件固化在只读存储器就是一种固件，通过修改固件的软件代码就可以改变其功能  
固件与硬连逻辑相比，固件的特点是灵活性大，但速度较慢  

## 计算机系统结构的定义
计算机系统结构(Computer Architecture)的经典定义：指传统机器程序员所看到的计算机属性，即概念性结构与功能特性。按照计算机系统的多级层次结构，不同级程序员所看到的计算机具有不同的属性  
例：  
**传统机器程序员**看到的主要属性是：该机器**指令系统**的功能特性，而**高级语言虚拟机程序员**所看到的主要属性则是：该机器所配置的**高级语言**所具有的功能特性  
  
不同的计算机系统，从**传统机器级**或**汇编语言程序员**的角度来看，具有不同的属性  
但，从高级语言程序员的角度来看，它们几乎没有什么差别，具有相同的属性  
也就是说，**这些传统机器级所存在的差别对于高级程序员来讲是“看不见的”**  

在计算机技术中，把这些**本来存在**的事物或属性，但从**某种角度看**又好像不存在的概念称为**透明性(transparency)**  

通常，在一个计算机系统中，低层机器的属性对高层机器的程序员来说，往往是透明的  
  
计算机系统结构的**实质**是：**确定计算机系统中软硬件的交界面，界面之上是软件实现的功能，界面之下是固和硬件实现的功能**  

